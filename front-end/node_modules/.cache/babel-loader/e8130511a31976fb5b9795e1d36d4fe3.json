{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14;import styled from\"styled-components\";import Comment from\"../comment/Comment\";import axios from\"axios\";import dayjs from\"dayjs\";import{useState,useEffect}from\"react\";import{Link,useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DetailFeedBody(){var _useLocation=useLocation(),state=_useLocation.state;console.log(state);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(state.title),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(state.basicUserInfoResponse.userName),_useState6=_slicedToArray(_useState5,2),writer=_useState6[0],setWriter=_useState6[1];var _useState7=useState(state.contents),_useState8=_slicedToArray(_useState7,2),body=_useState8[0],setBody=_useState8[1];var _useState9=useState(dayjs(state.createdTime).format(\"YYYY-MM-DD HH:mm\")),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),commentDate=_useState12[0],setCommentDate=_useState12[1];var _useState13=useState(state.id),_useState14=_slicedToArray(_useState13,2),id=_useState14[0],setId=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),likes=_useState16[0],setLikes=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),comments=_useState18[0],setComments=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),totalPage=_useState20[0],setTotalPage=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),comment=_useState22[0],setComment=_useState22[1];var handleLikePost=function handleLikePost(event){console.log(localStorage.getItem(\"token\"));axios({url:\"/api/v1/favorite/board/\"+id,method:\"POST\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}).then(function(res){console.log(\"success\");handleLikeCounts();}).catch(function(error){console.log(error);});};var handleLikeCounts=function handleLikeCounts(event){console.log(localStorage.getItem(\"token\"));axios({url:\"/api/v1/favorite/board/\"+id,method:\"GET\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}).then(function(res){console.log(\"success favorite\");setLikes(res.data.responseBody.favoriteNumber);}).catch(function(error){console.log(error);});};var changePage=function changePage(pageNum){console.log(\"change pages\");console.log(pageNum);console.log(page);setPage(pageNum);handleGetComments(pageNum);};var handleGetComments=function handleGetComments(pageNum,event){console.log(\"handleGetComments\");axios({// url: '/api/v1/board/' + id + '/comments?size=5&sort=id&page=' + pageNum,\nurl:\"/api/v1/user/board/\"+id+\"/comment\",method:\"GET\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}).then(function(res){console.log(\"success comment\");console.log(res);setComments(res.data.responseBody);setCommentDate(res.data.createdTime);setTotalPage(res.data.boardGetResponse.totalPages);}).catch(function(error){console.log(error);});};var handleWriteComment=function handleWriteComment(pageNum,event){console.log(\"handleWriteComment\");axios({url:\"/api/v1/user/board/\"+id+\"/comment\",method:\"POST\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")},data:{content:comment}}).then(function(res){console.log(\"success\");handleGetComments();setComment(\"\");}).catch(function(error){console.log(error);});};useEffect(function(){handleGetComments();handleLikeCounts();},[]);return/*#__PURE__*/_jsx(BodyContainer,{children:/*#__PURE__*/_jsxs(BodyWrapper,{children:[/*#__PURE__*/_jsxs(MainContent,{children:[/*#__PURE__*/_jsx(MainSubTitle,{children:\"\\uAC8C\\uC2DC\\uAE00 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsxs(TitleContainer,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",title]}),/*#__PURE__*/_jsxs(SubtitleContainer,{children:[/*#__PURE__*/_jsxs(SubTitle,{children:[\" \",writer]}),/*#__PURE__*/_jsx(SubTitle,{children:date})]})]}),/*#__PURE__*/_jsx(ContentContainer,{children:body}),/*#__PURE__*/_jsx(LikesBtn,{onClick:handleLikePost,children:/*#__PURE__*/_jsx(\"p\",{className:\"bi bi-hand-thumbs-up fs-6\",children:/*#__PURE__*/_jsx(LikeNumber,{children:likes})})})]}),/*#__PURE__*/_jsxs(CommentContainer,{children:[/*#__PURE__*/_jsx(MainSubTitle,{children:\"\\uB313\\uAE00\"}),comments.map(function(comment){return/*#__PURE__*/_jsxs(CommentsData,{children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-person-circle\"})}),/*#__PURE__*/_jsxs(CommentUser,{children:[\" \",comment.userInfo.userName]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",comment.commentInfo.content]}),/*#__PURE__*/_jsx(CommentDate,{children:dayjs(comment.commentInfo.updateDate).format(\"YYYY.MM.DD HH:mm\")})]});}),/*#__PURE__*/_jsx(CommentContainer,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-group  mb-2 row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group col\",children:/*#__PURE__*/_jsx(\"textarea\",{value:comment,className:\"form-control\",id:\"inputPassword2\",placeholder:\"\\uB313\\uAE00 \\uCD94\\uAC00\",onChange:function onChange(v){return setComment(v.target.value);}})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary col-1\",onClick:handleWriteComment,children:\"\\uB4F1\\uB85D\"})]})})]})]})});}export default DetailFeedBody;var BodyContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));var BodyWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 900px;\\n  margin: auto;\\n  padding: 30px 0;\\n\"])));var TitleContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-top: 30px;\\n\"])));var ContentContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-top: 50px;\\n\"])));var SubtitleContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-top: 30px;\\n  text-align: right;\\n\"])));var SubTitle=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  padding-left: 20px;\\n\"])));var CommentContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin-top: 50px;\\n\"])));var CommentsData=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  padding: 20px 0;\\n  border-bottom: 1px solid rgb(238, 238, 238);\\n\"])));var MainSubTitle=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  border-bottom: 1px solid rgb(238, 238, 238);\\n  padding-bottom: 9px;\\n  margin-bottom: 9px;\\n\"])));var LikesBtn=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  margin-top: 40px;\\n  font-size: 6px;\\n  text-align: right;\\n  cursor: pointer;\\n\"])));var MainContent=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  //   border-bottom: 1px solid rgb(238, 238, 238);\\n  //   padding-bottom: 40px;\\n\"])));var CommentDate=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  color: #999;\\n  margin: 10px 0;\\n\"])));var CommentUser=styled.span(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  font-size: 16px;\\n\"])));var LikeNumber=styled.span(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  margin-left: 5px;\\n\"])));","map":{"version":3,"sources":["/Users/jun/Desktop/Back-Git/개인 프로젝트/SNS-APP/front-end/src/components/bodyComponents/DetailFeedBody.js"],"names":["styled","Comment","axios","dayjs","useState","useEffect","Link","useNavigate","useLocation","DetailFeedBody","state","console","log","page","setPage","title","setTitle","basicUserInfoResponse","userName","writer","setWriter","contents","body","setBody","createdTime","format","date","setDate","commentDate","setCommentDate","id","setId","likes","setLikes","comments","setComments","totalPage","setTotalPage","comment","setComment","handleLikePost","event","localStorage","getItem","url","method","headers","Authorization","then","res","handleLikeCounts","catch","error","data","responseBody","favoriteNumber","changePage","pageNum","handleGetComments","boardGetResponse","totalPages","handleWriteComment","content","map","userInfo","commentInfo","updateDate","v","target","value","BodyContainer","div","BodyWrapper","TitleContainer","ContentContainer","SubtitleContainer","SubTitle","span","CommentContainer","CommentsData","MainSubTitle","LikesBtn","MainContent","CommentDate","CommentUser","LikeNumber"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport Comment from \"../comment/Comment\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\n\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\n\nfunction DetailFeedBody() {\n  const { state } = useLocation();\n  console.log(state);\n  const [page, setPage] = useState(0);\n  const [title, setTitle] = useState(state.title);\n  const [writer, setWriter] = useState(state.basicUserInfoResponse.userName);\n  const [body, setBody] = useState(state.contents);\n  const [date, setDate] = useState(dayjs(state.createdTime).format(\"YYYY-MM-DD HH:mm\"));\n  const [commentDate, setCommentDate] = useState();\n\n  const [id, setId] = useState(state.id);\n\n  const [likes, setLikes] = useState(0);\n  const [comments, setComments] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n  const [comment, setComment] = useState();\n\n  const handleLikePost = (event) => {\n    console.log(localStorage.getItem(\"token\"));\n    axios({\n      url: \"/api/v1/favorite/board/\" + id,\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        console.log(\"success\");\n        handleLikeCounts();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleLikeCounts = (event) => {\n    console.log(localStorage.getItem(\"token\"));\n    axios({\n      url: \"/api/v1/favorite/board/\" + id,\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        console.log(\"success favorite\");\n        setLikes(res.data.responseBody.favoriteNumber);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const changePage = (pageNum) => {\n    console.log(\"change pages\");\n    console.log(pageNum);\n    console.log(page);\n    setPage(pageNum);\n    handleGetComments(pageNum);\n  };\n\n  const handleGetComments = (pageNum, event) => {\n    console.log(\"handleGetComments\");\n    axios({\n      // url: '/api/v1/board/' + id + '/comments?size=5&sort=id&page=' + pageNum,\n      url: \"/api/v1/user/board/\" + id + \"/comment\",\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        console.log(\"success comment\");\n        console.log(res);\n        setComments(res.data.responseBody);\n        setCommentDate(res.data.createdTime);\n        setTotalPage(res.data.boardGetResponse.totalPages);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleWriteComment = (pageNum, event) => {\n    console.log(\"handleWriteComment\");\n    axios({\n      url: \"/api/v1/user/board/\" + id + \"/comment\",\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      data: {\n        content: comment,\n      },\n    })\n      .then((res) => {\n        console.log(\"success\");\n        handleGetComments();\n        setComment(\"\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    handleGetComments();\n    handleLikeCounts();\n  }, []);\n\n  return (\n    <BodyContainer>\n      <BodyWrapper>\n        <MainContent>\n          <MainSubTitle>게시글 보기</MainSubTitle>\n          <TitleContainer>\n            <h3> {title}</h3>\n            <SubtitleContainer>\n              <SubTitle> {writer}</SubTitle>\n              <SubTitle>{date}</SubTitle>\n            </SubtitleContainer>\n          </TitleContainer>\n\n          <ContentContainer>{body}</ContentContainer>\n\n          <LikesBtn onClick={handleLikePost}>\n            <p className=\"bi bi-hand-thumbs-up fs-6\">\n              <LikeNumber>{likes}</LikeNumber>\n            </p>\n          </LikesBtn>\n        </MainContent>\n        <CommentContainer>\n          <MainSubTitle>댓글</MainSubTitle>\n\n          {comments.map((comment) => (\n            <CommentsData>\n              <span>\n                <i class=\"bi bi-person-circle\"></i>\n              </span>\n\n              <CommentUser> {comment.userInfo.userName}</CommentUser>\n\n              <div> {comment.commentInfo.content}</div>\n\n              <CommentDate>{dayjs(comment.commentInfo.updateDate).format(\"YYYY.MM.DD HH:mm\")}</CommentDate>\n            </CommentsData>\n          ))}\n\n          <CommentContainer>\n            <form className=\"form-group  mb-2 row\">\n              <div className=\"form-group col\">\n                <textarea value={comment} className=\"form-control\" id=\"inputPassword2\" placeholder=\"댓글 추가\" onChange={(v) => setComment(v.target.value)}></textarea>\n              </div>\n              <button type=\"button\" className=\"btn btn-primary col-1\" onClick={handleWriteComment}>\n                등록\n              </button>\n            </form>\n          </CommentContainer>\n        </CommentContainer>\n      </BodyWrapper>\n    </BodyContainer>\n  );\n}\n\nexport default DetailFeedBody;\n\nconst BodyContainer = styled.div`\n  width: 100%;\n`;\n\nconst BodyWrapper = styled.div`\n  width: 900px;\n  margin: auto;\n  padding: 30px 0;\n`;\n\nconst TitleContainer = styled.div`\n  margin-top: 30px;\n`;\n\nconst ContentContainer = styled.div`\n  margin-top: 50px;\n`;\n\nconst SubtitleContainer = styled.div`\n  margin-top: 30px;\n  text-align: right;\n`;\n\nconst SubTitle = styled.span`\n  display: inline-block;\n  padding-left: 20px;\n`;\n\nconst CommentContainer = styled.div`\n  margin-top: 50px;\n`;\n\nconst CommentsData = styled.div`\n  padding: 20px 0;\n  border-bottom: 1px solid rgb(238, 238, 238);\n`;\n\nconst MainSubTitle = styled.div`\n  font-size: 12px;\n  border-bottom: 1px solid rgb(238, 238, 238);\n  padding-bottom: 9px;\n  margin-bottom: 9px;\n`;\n\nconst LikesBtn = styled.div`\n  margin-top: 40px;\n  font-size: 6px;\n  text-align: right;\n  cursor: pointer;\n`;\n\nconst MainContent = styled.div`\n  //   border-bottom: 1px solid rgb(238, 238, 238);\n  //   padding-bottom: 40px;\n`;\n\nconst CommentDate = styled.div`\n  font-size: 12px;\n  color: #999;\n  margin: 10px 0;\n`;\nconst CommentUser = styled.span`\n  font-size: 16px;\n`;\n\nconst LikeNumber = styled.span`\n  display: inline-block;\n  margin-left: 5px;\n`;\n"]},"metadata":{},"sourceType":"module"}