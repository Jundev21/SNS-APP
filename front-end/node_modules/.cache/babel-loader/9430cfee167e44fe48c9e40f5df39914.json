{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Notification(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),render=_useState4[0],setRender=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),alarms=_useState6[0],setAlarms=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalPage=_useState8[0],setTotalPage=_useState8[1];var navigate=useNavigate();var changePage=function changePage(pageNum){console.log(\"change pages\");console.log(pageNum);console.log(page);setPage(pageNum);handleGetAlarm(pageNum);};var handleGetAlarm=function handleGetAlarm(pageNum,event){console.log(\"handleGetAlarm\");axios({url:\"/api/v1/users/notification\",method:\"GET\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}}).then(function(res){console.log(\"Success alram\");console.log(\"success token\");console.log(res);setAlarms(res.data.responseBody.notificationType);// setTotalPage(res.data.result.totalPages);\n}).catch(function(error){console.log(error);// navigate('/authentication/sign-in');\n});};// useEffect(() => {\n//   handleGetAlarm();\n// }, [alarms]);\nreturn/*#__PURE__*/_jsxs(NotiParent,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"bi bi-bell-fill fs-5\"}),alarms.length!==0&&/*#__PURE__*/_jsx(NotiChild,{children:alarms.length})]});}export default Notification;var NotiParent=styled.span(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  cursor: pointer;\\n\"])));var NotiChild=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: -10px;\\n  right: -15px;\\n  background-color: red;\\n  color: white;\\n  font-size: 12px;\\n  padding: 2px 7px;\\n  border-radius: 80%;\\n\"])));","map":{"version":3,"sources":["/Users/jun/Desktop/Back-Git/개인 프로젝트/SNS-APP/front-end/src/components/notification/Notification.js"],"names":["React","useEffect","useState","styled","axios","useNavigate","Notification","page","setPage","render","setRender","alarms","setAlarms","totalPage","setTotalPage","navigate","changePage","pageNum","console","log","handleGetAlarm","event","url","method","headers","Authorization","localStorage","getItem","then","res","data","responseBody","notificationType","catch","error","length","NotiParent","span","NotiChild"],"mappings":"ueAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,QAASC,CAAAA,YAAT,EAAwB,CACtB,cAAwBJ,QAAQ,CAAC,CAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA4BN,QAAQ,CAAC,KAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eACA,eAA4BR,QAAQ,CAAC,EAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACA,eAAkCV,QAAQ,CAAC,CAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAa,CAC9BC,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACAC,OAAO,CAACC,GAAR,CAAYZ,IAAZ,EACAC,OAAO,CAACS,OAAD,CAAP,CACAG,cAAc,CAACH,OAAD,CAAd,CACD,CAND,CAQA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,OAAD,CAAUI,KAAV,CAAoB,CACzCH,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAf,KAAK,CAAC,CACJkB,GAAG,CAAE,4BADD,CAEJC,MAAM,CAAE,KAFJ,CAGJC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADpB,CAHL,CAAD,CAAL,CAOGC,IAPH,CAOQ,SAACC,GAAD,CAAS,CACbX,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAYU,GAAZ,EAEAjB,SAAS,CAACiB,GAAG,CAACC,IAAJ,CAASC,YAAT,CAAsBC,gBAAvB,CAAT,CACA;AACD,CAdH,EAeGC,KAfH,CAeS,SAACC,KAAD,CAAW,CAChBhB,OAAO,CAACC,GAAR,CAAYe,KAAZ,EACA;AACD,CAlBH,EAmBD,CArBD,CAuBA;AACA;AACA;AAEA,mBACE,MAAC,UAAD,yBACE,YAAK,KAAK,CAAC,sBAAX,EADF,CAEGvB,MAAM,CAACwB,MAAP,GAAkB,CAAlB,eAAuB,KAAC,SAAD,WAAYxB,MAAM,CAACwB,MAAnB,EAF1B,GADF,CAMD,CAED,cAAe7B,CAAAA,YAAf,CAEA,GAAM8B,CAAAA,UAAU,CAAGjC,MAAM,CAACkC,IAAV,wJAAhB,CAOA,GAAMC,CAAAA,SAAS,CAAGnC,MAAM,CAACkC,IAAV,uOAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Notification() {\n  const [page, setPage] = useState(0);\n  const [render, setRender] = useState(false);\n  const [alarms, setAlarms] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n\n  const navigate = useNavigate();\n\n  const changePage = (pageNum) => {\n    console.log(\"change pages\");\n    console.log(pageNum);\n    console.log(page);\n    setPage(pageNum);\n    handleGetAlarm(pageNum);\n  };\n\n  const handleGetAlarm = (pageNum, event) => {\n    console.log(\"handleGetAlarm\");\n    axios({\n      url: \"/api/v1/users/notification\",\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        console.log(\"Success alram\");\n        console.log(\"success token\");\n        console.log(res);\n\n        setAlarms(res.data.responseBody.notificationType);\n        // setTotalPage(res.data.result.totalPages);\n      })\n      .catch((error) => {\n        console.log(error);\n        // navigate('/authentication/sign-in');\n      });\n  };\n\n  // useEffect(() => {\n  //   handleGetAlarm();\n  // }, [alarms]);\n\n  return (\n    <NotiParent>\n      <div class=\"bi bi-bell-fill fs-5\"></div>\n      {alarms.length !== 0 && <NotiChild>{alarms.length}</NotiChild>}\n    </NotiParent>\n  );\n}\n\nexport default Notification;\n\nconst NotiParent = styled.span`\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nconst NotiChild = styled.span`\n  position: absolute;\n  top: -10px;\n  right: -15px;\n  background-color: red;\n  color: white;\n  font-size: 12px;\n  padding: 2px 7px;\n  border-radius: 80%;\n`;\n"]},"metadata":{},"sourceType":"module"}