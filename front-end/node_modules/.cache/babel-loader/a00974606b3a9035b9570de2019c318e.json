{"ast":null,"code":"import _slicedToArray from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useNavigate}from\"react-router\";import Button from\"react-bootstrap/Button\";import Modal from\"react-bootstrap/Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalOverlay=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: \",\";\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.6);\\n  z-index: 100;\\n\"])),function(props){return props.isOpen?\"block\":\"none\";});var ModalWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  width: 100%;\\n\"])));var ModalContent=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: white;\\n  padding: 30px 45px 50px;\\n  border-radius: 8px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\n  width: 400px;\\n  position: relative;\\n  text-align: center;\\n\"])));var CloseButton=styled.span(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: #aaa;\\n  font-size: 20px;\\n  position: absolute;\\n  top: 10px;\\n  right: 15px;\\n  cursor: pointer;\\n\"])));var Form=styled.form(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n\"])));var Input=styled.input(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  max-width: 100%;\\n  padding: 11px 13px;\\n  background: #f9f9fa;\\n  color: black;\\n  margin-bottom: 0.9rem;\\n  border-radius: 4px;\\n  outline: 0;\\n  border: 1px solid rgba(245, 245, 245, 0.7);\\n  font-size: 14px;\\n  transition: all 0.3s ease-out;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.1), 0 1px 1px rgba(0, 0, 0, 0.1);\\n\\n  :focus,\\n  :hover {\\n    box-shadow: 0 0 3px rgba(0, 0, 0, 0.15), 0 1px 5px rgba(0, 0, 0, 0.1);\\n  }\\n\"])));// const Button = styled.button`\n//   max-width: 100%;\n//   padding: 11px 13px;\n//   color: rgb(253, 249, 243);\n//   font-weight: 600;\n//   text-transform: uppercase;\n//   background: #0d6efe;\n//   border: none;\n//   border-radius: 3px;\n//   outline: 0;\n//   cursor: pointer;\n//   margin-top: 0.6rem;\n//   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1);\n//   transition: all 0.3s ease-out;\n//   :hover {\n//     background: #3b71ca;\n//   }\n// `;\nvar Title=styled.h2(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin-bottom: 40px;\\n\"])));var LoginModal=function LoginModal(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoginModal=_useState2[0],setShowLoginModal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),dialogTitle=_React$useState4[0],setDialogTitle=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),dialogMessage=_React$useState6[0],setDialogMessage=_React$useState6[1];var navigate=useNavigate();var openLoginModal=function openLoginModal(){setShowLoginModal(true);};var closeLoginModal=function closeLoginModal(){setShowLoginModal(false);};// const handleEmailChange = e => {\n//     setEmail(e.target.value);\n// };\nvar handleUserNameChange=function handleUserNameChange(e){setUserName(e.target.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);};var handleSignIn=function handleSignIn(event){console.log(userName);console.log(password);event.preventDefault();axios({url:\"/api/v1/users/login\",method:\"POST\",data:{userName:userName,password:password}}).then(function(res){console.log(\"success\");setDialogTitle(\"success\");console.log(\"find togen\");localStorage.setItem(\"token\",res.data.responseBody.token);console.log(res.data.responseBody.token);props.setIsLogin(true);navigate(\"/\");});props.handleModal();};return/*#__PURE__*/_jsx(ModalOverlay,{isOpen:props.modalOpen,children:/*#__PURE__*/_jsx(ModalWrapper,{children:/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(CloseButton,{onClick:props.handleModal,children:\"\\xD7\"}),/*#__PURE__*/_jsx(Title,{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Input,{placeholder:\"아이디\",type:\"email\",name:\"email\",onChange:handleUserNameChange}),/*#__PURE__*/_jsx(Input,{placeholder:\"비밀번호\",type:\"password\",name:\"password\",onChange:handlePasswordChange}),/*#__PURE__*/_jsx(Button,{onClick:handleSignIn,children:\"\\uB85C\\uADF8\\uC778\"})]})]})})});};export default LoginModal;","map":{"version":3,"sources":["/Users/jun/Desktop/Back-Git/개인 프로젝트/SNS-APP/front-end/src/components/login/LoginModal.js"],"names":["React","useState","styled","axios","useNavigate","Button","Modal","ModalOverlay","div","props","isOpen","ModalWrapper","ModalContent","CloseButton","span","Form","form","Input","input","Title","h2","LoginModal","showLoginModal","setShowLoginModal","userName","setUserName","password","setPassword","open","setOpen","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","navigate","openLoginModal","closeLoginModal","handleUserNameChange","e","target","value","handlePasswordChange","handleSignIn","event","console","log","preventDefault","url","method","data","then","res","localStorage","setItem","responseBody","token","setIsLogin","handleModal","modalOpen"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\n\nconst ModalOverlay = styled.div`\n  display: ${(props) => (props.isOpen ? \"block\" : \"none\")};\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n`;\n\nconst ModalWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ModalContent = styled.div`\n  background-color: white;\n  padding: 30px 45px 50px;\n  border-radius: 8px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n  width: 400px;\n  position: relative;\n  text-align: center;\n`;\n\nconst CloseButton = styled.span`\n  color: #aaa;\n  font-size: 20px;\n  position: absolute;\n  top: 10px;\n  right: 15px;\n  cursor: pointer;\n`;\n\nconst Form = styled.form`\n  margin: 0 auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\n\nconst Input = styled.input`\n  max-width: 100%;\n  padding: 11px 13px;\n  background: #f9f9fa;\n  color: black;\n  margin-bottom: 0.9rem;\n  border-radius: 4px;\n  outline: 0;\n  border: 1px solid rgba(245, 245, 245, 0.7);\n  font-size: 14px;\n  transition: all 0.3s ease-out;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.1), 0 1px 1px rgba(0, 0, 0, 0.1);\n\n  :focus,\n  :hover {\n    box-shadow: 0 0 3px rgba(0, 0, 0, 0.15), 0 1px 5px rgba(0, 0, 0, 0.1);\n  }\n`;\n\n// const Button = styled.button`\n//   max-width: 100%;\n//   padding: 11px 13px;\n//   color: rgb(253, 249, 243);\n//   font-weight: 600;\n//   text-transform: uppercase;\n//   background: #0d6efe;\n//   border: none;\n//   border-radius: 3px;\n//   outline: 0;\n//   cursor: pointer;\n//   margin-top: 0.6rem;\n//   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1);\n//   transition: all 0.3s ease-out;\n\n//   :hover {\n//     background: #3b71ca;\n//   }\n// `;\n\nconst Title = styled.h2`\n  margin-bottom: 40px;\n`;\n\nconst LoginModal = (props) => {\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [dialogTitle, setDialogTitle] = React.useState(\"\");\n  const [dialogMessage, setDialogMessage] = React.useState(\"\");\n  const navigate = useNavigate();\n\n  const openLoginModal = () => {\n    setShowLoginModal(true);\n  };\n\n  const closeLoginModal = () => {\n    setShowLoginModal(false);\n  };\n\n  // const handleEmailChange = e => {\n  //     setEmail(e.target.value);\n  // };\n  const handleUserNameChange = (e) => {\n    setUserName(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n  const handleSignIn = (event) => {\n    console.log(userName);\n    console.log(password);\n    event.preventDefault();\n\n    axios({\n      url: \"/api/v1/users/login\",\n      method: \"POST\",\n      data: {\n        userName: userName,\n        password: password,\n      },\n    }).then((res) => {\n      console.log(\"success\");\n      setDialogTitle(\"success\");\n      console.log(\"find togen\");\n      localStorage.setItem(\"token\", res.data.responseBody.token);\n      console.log(res.data.responseBody.token);\n      props.setIsLogin(true);\n      navigate(\"/\");\n    });\n    props.handleModal();\n  };\n\n  return (\n    <ModalOverlay isOpen={props.modalOpen}>\n      <ModalWrapper>\n        <ModalContent>\n          <CloseButton onClick={props.handleModal}>&times;</CloseButton>\n          <Title>로그인</Title>\n\n          <Form>\n            <Input placeholder={\"아이디\"} type=\"email\" name=\"email\" onChange={handleUserNameChange} />\n            <Input placeholder={\"비밀번호\"} type=\"password\" name=\"password\" onChange={handlePasswordChange} />\n            <Button onClick={handleSignIn}>로그인</Button>\n          </Form>\n        </ModalContent>\n      </ModalWrapper>\n    </ModalOverlay>\n  );\n};\n\nexport default LoginModal;\n"]},"metadata":{},"sourceType":"module"}