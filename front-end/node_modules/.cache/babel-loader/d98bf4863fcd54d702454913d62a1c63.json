{"ast":null,"code":"var _jsxFileName = \"/Users/jun/Desktop/Front-Git/bunjang/src/components/bodyComponents/Body.tsx\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAppSelector } from \"../../hooks\";\nimport Pagination from \"../Pagination\";\nimport RenderContent from \"./RenderContent\";\nimport BodyTitle from './BodyTitle';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Body() {\n  _s();\n\n  const {\n    searchWord,\n    orderCommand\n  } = useAppSelector(state => state.searchState);\n  const [renderData, setRendering] = useState([]);\n  const [currPageNum, setCurrPageNum] = useState(0);\n  const [totalPageNum, setTotalPageNum] = useState([]); //===========================================\n\n  const [page, setPage] = useState(0);\n  const [render, setRender] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [open, setOpen] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState('');\n  const [dialogMessage, setDialogMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleDetail = post => {\n    console.log('handleDetail');\n    console.log(post);\n    navigate('/post-detail', {\n      state: post\n    });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const changePage = pageNum => {\n    console.log('change pages');\n    console.log(pageNum);\n    console.log(page);\n    setPage(pageNum); // @ts-ignore\n\n    handleGetPosts(pageNum);\n  };\n\n  const handleGetPosts = (pageNum, event) => {\n    console.log('handleGetPosts');\n    axios({\n      url: '/api/v1/board?size=5&sort=id&page=' + pageNum,\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(res => {\n      console.log('success');\n      console.log(res);\n      setPosts(res.data.responseBody.content);\n      setTotalPage(res.data.responseBody.totalPages);\n    }).catch(error => {\n      console.log(error);\n      navigate('/authentication/sign-in');\n    });\n  };\n\n  useEffect(() => {\n    // @ts-ignore\n    handleGetPosts();\n  }, []); // useEffect(() => {\n  //   const getUpdateData = async () => {\n  //     let apiData = await axios.get(\n  //       `https://api.stg-bunjang.co.kr/api/1/find_v2.json?q=${searchWord}&order=${orderCommand}&version=4`\n  //     );\n  //     setRendering(apiData.data.list);\n  //     setCurrPageNum(0);\n  //     let totalPage = [];\n  //\n  //     for (let i = 0; i < Math.ceil(apiData.data.list.length / 16); i++) {\n  //       totalPage.push(i);\n  //     }\n  //\n  //     setTotalPageNum(totalPage);\n  //   };\n  //\n  //   getUpdateData();\n  // }, [orderCommand, searchWord]);\n\n  return /*#__PURE__*/_jsxDEV(BodyContainer, {\n    children: /*#__PURE__*/_jsxDEV(BodyWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(BodyTitle, {\n        renderData: renderData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RenderContent, {\n        renderData: posts,\n        currPageNum: currPageNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        setCurrPageNum: setCurrPageNum,\n        totalPageNum: totalPageNum,\n        currPageNum: currPageNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Body, \"jef6TVF3P0D0FfjtjCPqwyea5nE=\", false, function () {\n  return [useAppSelector, useNavigate];\n});\n\n_c = Body;\nexport default Body;\nconst BodyContainer = styled.div`\n  width: 100%;\n`;\n_c2 = BodyContainer;\nconst BodyWrapper = styled.div`\n  width: 1024px;\n  margin: auto;\n  padding: 30px 0;\n`;\n_c3 = BodyWrapper;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Body\");\n$RefreshReg$(_c2, \"BodyContainer\");\n$RefreshReg$(_c3, \"BodyWrapper\");","map":{"version":3,"sources":["/Users/jun/Desktop/Front-Git/bunjang/src/components/bodyComponents/Body.tsx"],"names":["styled","useState","useEffect","axios","useAppSelector","Pagination","RenderContent","BodyTitle","useNavigate","Body","searchWord","orderCommand","state","searchState","renderData","setRendering","currPageNum","setCurrPageNum","totalPageNum","setTotalPageNum","page","setPage","render","setRender","posts","setPosts","totalPage","setTotalPage","title","setTitle","body","setBody","open","setOpen","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","navigate","handleDetail","post","console","log","handleClickOpen","handleClose","changePage","pageNum","handleGetPosts","event","url","method","headers","Authorization","localStorage","getItem","then","res","data","responseBody","content","totalPages","catch","error","BodyContainer","div","BodyWrapper"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAppSelector } from \"../../hooks\";\nimport Pagination from \"../Pagination\";\nimport RenderContent from \"./RenderContent\";\nimport BodyTitle from './BodyTitle';\nimport {useNavigate} from \"react-router-dom\";\n\n\nfunction Body() {\n  const { searchWord, orderCommand } = useAppSelector(\n    (state) => state.searchState\n  );\n  const [renderData, setRendering] = useState([]);\n  const [currPageNum, setCurrPageNum] = useState(0);\n  const [totalPageNum, setTotalPageNum] = useState<Array<number>>([]);\n  //===========================================\n  const [page, setPage] = useState(0);\n  const [render, setRender] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [open, setOpen] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState('');\n  const [dialogMessage, setDialogMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleDetail = (post:any) => {\n    console.log('handleDetail');\n    console.log(post);\n    navigate('/post-detail', { state: post });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const changePage = (pageNum:any) => {\n    console.log('change pages');\n    console.log(pageNum);\n    console.log(page);\n    setPage(pageNum);\n    // @ts-ignore\n    handleGetPosts(pageNum);\n  };\n\n  const handleGetPosts = (pageNum:any, event:any) => {\n    console.log('handleGetPosts');\n    axios({\n      url: '/api/v1/board?size=5&sort=id&page=' + pageNum,\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token'),\n      },\n    })\n        .then((res) => {\n          console.log('success');\n          console.log(res);\n          setPosts(res.data.responseBody.content);\n          setTotalPage(res.data.responseBody.totalPages);\n        })\n        .catch((error) => {\n          console.log(error);\n          navigate('/authentication/sign-in');\n        });\n  };\n\n  useEffect(() => {\n    // @ts-ignore\n    handleGetPosts();\n  }, []);\n\n\n  // useEffect(() => {\n  //   const getUpdateData = async () => {\n  //     let apiData = await axios.get(\n  //       `https://api.stg-bunjang.co.kr/api/1/find_v2.json?q=${searchWord}&order=${orderCommand}&version=4`\n  //     );\n  //     setRendering(apiData.data.list);\n  //     setCurrPageNum(0);\n  //     let totalPage = [];\n  //\n  //     for (let i = 0; i < Math.ceil(apiData.data.list.length / 16); i++) {\n  //       totalPage.push(i);\n  //     }\n  //\n  //     setTotalPageNum(totalPage);\n  //   };\n  //\n  //   getUpdateData();\n  // }, [orderCommand, searchWord]);\n\n  return (\n    <BodyContainer>\n      <BodyWrapper>\n        <BodyTitle renderData={renderData} />\n        <RenderContent renderData={posts} currPageNum={currPageNum} />\n        <Pagination\n          setCurrPageNum={setCurrPageNum}\n          totalPageNum={totalPageNum}\n          currPageNum={currPageNum}\n        />\n      </BodyWrapper>\n    </BodyContainer>\n  );\n}\n\nexport default Body;\n\nconst BodyContainer = styled.div`\n  width: 100%;\n`;\n\nconst BodyWrapper = styled.div`\n  width: 1024px;\n  margin: auto;\n  padding: 30px 0;\n`;\n"]},"metadata":{},"sourceType":"module"}