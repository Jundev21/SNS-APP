{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/jun/Desktop/Back-Git/\\u1100\\u1162\\u110B\\u1175\\u11AB \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/SNS-APP/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import styled from\"styled-components\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{useAppSelector}from\"../../hooks\";import Pagination from\"../Pagination\";import RenderContent from\"./RenderContent\";import BodyTitle from\"./BodyTitle\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Body(){var _useAppSelector=useAppSelector(function(state){return state.searchState;}),searchWord=_useAppSelector.searchWord,orderCommand=_useAppSelector.orderCommand;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),renderData=_useState2[0],setRendering=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currPageNum=_useState4[0],setCurrPageNum=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),totalPageNum=_useState6[0],setTotalPageNum=_useState6[1];//===========================================\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),render=_useState10[0],setRender=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),posts=_useState12[0],setPosts=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),totalPage=_useState14[0],setTotalPage=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),title=_useState16[0],setTitle=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),body=_useState18[0],setBody=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),open=_useState20[0],setOpen=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),dialogTitle=_useState22[0],setDialogTitle=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),dialogMessage=_useState24[0],setDialogMessage=_useState24[1];var navigate=useNavigate();var handleDetail=function handleDetail(post){console.log(\"handleDetail\");console.log(post);navigate(\"/post-detail\",{state:post});};var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var changePage=function changePage(currPageNum){console.log(\"change pages\");console.log(currPageNum);console.log(page);setPage(currPageNum);// @ts-ignore\nhandleGetPosts(currPageNum);};var handleGetPosts=function handleGetPosts(pageNum,event){console.log(\"handleGetPosts\");axios({url:\"/api/v1/board?size=10&sort=id&page=\"+currPageNum,method:\"GET\"// headers: {\n//   Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n// },\n}).then(function(res){console.log(\"success\");console.log(res);setPosts(res.data.responseBody.content);setTotalPageNum(res.data.responseBody.totalPages);}).catch(function(error){console.log(error);// navigate(\"/authentication/sign-in\");\n});};useEffect(function(){// @ts-ignore\nhandleGetPosts();},[]);return/*#__PURE__*/_jsx(BodyContainer,{children:/*#__PURE__*/_jsxs(BodyWrapper,{children:[/*#__PURE__*/_jsx(BodyTitle,{renderData:posts,title:\"전체 게시물\"}),/*#__PURE__*/_jsx(RenderContent,{renderData:posts,currPageNum:currPageNum,title:\"전체 게시물\"}),/*#__PURE__*/_jsx(Pagination,{setCurrPageNum:setCurrPageNum,totalPageNum:totalPageNum,currPageNum:currPageNum})]})});}export default Body;var BodyContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 60vh;\\n\"])));var BodyWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  width: 1200px;\\n  margin: auto;\\n  padding: 30px 0;\\n\"])));","map":{"version":3,"sources":["/Users/jun/Desktop/Back-Git/개인 프로젝트/SNS-APP/front-end/src/components/bodyComponents/Body.tsx"],"names":["styled","useState","useEffect","axios","useAppSelector","Pagination","RenderContent","BodyTitle","useNavigate","Body","state","searchState","searchWord","orderCommand","renderData","setRendering","currPageNum","setCurrPageNum","totalPageNum","setTotalPageNum","page","setPage","render","setRender","posts","setPosts","totalPage","setTotalPage","title","setTitle","body","setBody","open","setOpen","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","navigate","handleDetail","post","console","log","handleClickOpen","handleClose","changePage","handleGetPosts","pageNum","event","url","method","then","res","data","responseBody","content","totalPages","catch","error","BodyContainer","div","BodyWrapper"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAppSelector } from \"../../hooks\";\nimport Pagination from \"../Pagination\";\nimport RenderContent from \"./RenderContent\";\nimport BodyTitle from \"./BodyTitle\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Body() {\n  const { searchWord, orderCommand } = useAppSelector((state) => state.searchState);\n  const [renderData, setRendering] = useState([]);\n  const [currPageNum, setCurrPageNum] = useState(0);\n  const [totalPageNum, setTotalPageNum] = useState([]);\n  //===========================================\n\n  const [page, setPage] = useState(0);\n  const [render, setRender] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState(\"\");\n  const [dialogMessage, setDialogMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleDetail = (post: any) => {\n    console.log(\"handleDetail\");\n    console.log(post);\n    navigate(\"/post-detail\", { state: post });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const changePage = (currPageNum: any) => {\n    console.log(\"change pages\");\n    console.log(currPageNum);\n    console.log(page);\n    setPage(currPageNum);\n    // @ts-ignore\n    handleGetPosts(currPageNum);\n  };\n\n  const handleGetPosts = (pageNum: any, event: any) => {\n    console.log(\"handleGetPosts\");\n    axios({\n      url: \"/api/v1/board?size=10&sort=id&page=\" + currPageNum,\n      method: \"GET\",\n      // headers: {\n      //   Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      // },\n    })\n      .then((res) => {\n        console.log(\"success\");\n        console.log(res);\n        setPosts(res.data.responseBody.content);\n        setTotalPageNum(res.data.responseBody.totalPages);\n      })\n      .catch((error) => {\n        console.log(error);\n        // navigate(\"/authentication/sign-in\");\n      });\n  };\n\n  useEffect(() => {\n    // @ts-ignore\n    handleGetPosts();\n  }, []);\n\n  return (\n    <BodyContainer>\n      <BodyWrapper>\n        <BodyTitle renderData={posts} title={\"전체 게시물\"} />\n        <RenderContent renderData={posts} currPageNum={currPageNum} title={\"전체 게시물\"} />\n        <Pagination setCurrPageNum={setCurrPageNum} totalPageNum={totalPageNum} currPageNum={currPageNum} />\n      </BodyWrapper>\n    </BodyContainer>\n  );\n}\n\nexport default Body;\n\nconst BodyContainer = styled.div`\n  width: 100%;\n  height: 60vh;\n`;\n\nconst BodyWrapper = styled.div`\n  height: 100%;\n  width: 1200px;\n  margin: auto;\n  padding: 30px 0;\n`;\n"]},"metadata":{},"sourceType":"module"}